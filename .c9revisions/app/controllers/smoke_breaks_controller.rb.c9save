{"ts":1374160594502,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class SmokeBreaksController < ApplicationController\n  def index\n    @smoke_breaks = SmokeBreak.all\n  end\n\n  def create\n    @smoke_break = SmokeBreak.new(params[:smoke_break])\n    if @smoke_break.save!\n      redirect_to root_path, :notice => \"Smoke break recorded\"\n    else\n      render :action => 'new'\n    end\n  end\n\n  def destroy\n    @smoke_break = SmokeBreak.find(params[:id])\n    @smoke_break.destroy\n    redirect_to smoke_breaks_url, :notice => \"Successfully destroyed smoke breaks.\"\n  end\n\n  def update\n    @smoke_break = SmokeBreak.find(params[:id])\n    if @smoke_break.update_attributes(params[:smoke_break])\n      redirect_to smoke_breaks_url, :notice  => \"Successfully updated smoke breaks.\"\n    else\n      render :action => 'edit'\n    end\n  end\n\n  def edit\n    @smoke_break = SmokeBreak.find(params[:id])\n  end\n\n  def new\n    @smoke_break = SmokeBreak.new\n  end\n  \n  def quick_smoke\n    @smoke_break = SmokeBreak.create( :user_id => current_user.id, :recorded_time => DateTime.now )\n    redirect_to root_path, :notice => \"You have smoked #{SmokeBreak.total_on(Date.today)} times today.\"\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":1108}]],"length":1108}
